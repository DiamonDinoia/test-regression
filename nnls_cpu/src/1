#include <iostream>
#include <set>

#include "Eigen/Core"
#include "Eigen/Dense"

constexpr int M = 10;
constexpr int L = 10;

void nnls() {
    // 
    // type aliasing
    //
    using ValueType = double;
    using VectorM = Eigen::Matrix<ValueType, M, 1>;
    using MatrixLM = Eigen::Matrix<ValueType, L, M>;
    using VectorL = Eigen::Matrix<ValueType, L, 1>;

    //
    // randomize inputs
    //
    VectorL x = VectorL::Random(L, 1) * 100;
    MatrixLM Z = MatrixLM::Random(L, M) * 100;

    //
    // initialization
    //
    std::set<int> P;
    std::set<int> R;
    for (int i=1; i<=M; ++i)
        R.insert(i);
    VectorM d;
    for (int i=1; i<=M; ++i)
        d << 0;
    VectorM w = Z.transpose() * (x - Z*d);
    auto max_of_set = [](auto R, auto w) -> d

    //
    // main loop
    //
    while (!R.empty() and )
}

int main(int argc, char **argv) {
    return 0;
}
